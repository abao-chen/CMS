<!DOCTYPE html>
<html>
<head>
    <link href="/Scripts/bootstrap/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/datatables/css/dataTables.bootstrap.css" rel="stylesheet" />   
    <link href="/Scripts/bootstrap/vendor/datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/bootstrap-validator/css/bootstrapValidator.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/toastr/css/toastr.min.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/toastr/css/toastr.less" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/toastr/css/toastr.scss" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/metisMenu/metisMenu.min.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/uploadify/uploadify.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/morrisjs/morris.css" rel="stylesheet" />
    <link href="/Scripts/bootstrap/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link href="/Css/common.css" rel="stylesheet" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="/Scripts/bootstrap/js/html5shiv.js"></script>
        <script src="/Scripts/bootstrap/js/respond.min.js"></script>
    <![endif]-->
    <!-- js -->
    <script src="/Scripts/bootstrap/vendor/jquery/jquery.min.js"></script>
    <script src="/Scripts/bootstrap/vendor/jquery/jquery-ui.min.js"></script>
    <script src="/Scripts/bootstrap/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="/Scripts/bootstrap/vendor/datatables/js/jquery.dataTables.js"></script>
    <script src="/Scripts/bootstrap/vendor/datatables/js/dataTables.bootstrap.js"></script>
    <script src="/Scripts/bootstrap/vendor/bootstrap-validator/js/bootstrapValidator.js"></script>
    <script src="/Scripts/bootstrap/vendor/bootstrap-validator/js/language/zh_CN.js"></script>
    <script src="/Scripts/bootstrap/vendor/toastr/js/toastr.min.js"></script>
    <script src="/Scripts/bootstrap/vendor/metisMenu/metisMenu.min.js"></script>
    <script src="/Scripts/bootstrapAlert.js"></script>
    <script src="/Scripts/JSON2.js"></script>
    <script src="/Scripts/common.js"></script>
    <script src="/Scripts/tableUtils.js"></script>
</head>
<body>
    <table cellspacing="0" width="100%" class="table table-striped table-bordered table-hover table-condensed" id="dataTables">
        <thead>
            <tr>
                <th>
                    <input id="cbSelectAll" type="checkbox" title="全选/取消" />
                </th>
                <th>操作</th>
                <th>用户账号</th>
                <th>用户名称</th>
                <th>用户角色</th>
                <th>用户状态</th>
                <th>用户类型</th>
                <th>最后一次登录时间</th>
                <th>创建时间</th>
            </tr>
        </thead>
    </table>
</body>
<script type="text/javascript">
    var curTable;
    //初始化表格
    $(function () {
        var options = {
            "url": "/API/SysManage/UserApi.aspx",
            "editUrl": "/SysManage/UserInfo.aspx",
            "aLengthMenu":[10, 50, 100],
            "searchColunms": "UserAccount|UserName|RoleNames",
            "columns": [
                {
                    "data": "ID",
                    "width": "20px",
                    "class": "center",
                    "orderable": false,
                    "render": function (data, type, row, meta) {
                        var result = "<input id=\"" +
                            data +
                            "\" name=\"tbCheckbox\" type=\"checkbox\" title=\"全选/取消\" />";
                        return result;
                    }
                },
                {
                    "data": "ID",
                    "width": "40px",
                    "class": "center",
                    "orderable": false,
                    "render": function (data, type, row, meta) {
                        var result = "<a href=\"javascript:curTable.edit(" + row.ID +
                            ")\"><span class='glyphicon glyphicon-edit' title='编辑'></span></a>& nbsp;&nbsp;&nbsp; <a href=\"javascript:curTable.delSingleRow('" + row.ID +
                            "');\"><span class='glyphicon glyphicon-trash' title='删除'></span></a>";
                        return result;
                    }
                },
                { "data": "UserAccount" },
                { "data": "UserName" },
                { "data": "RoleNames" },
                { "data": "UserStatusName" },
                { "data": "UserTypeName" },
                { "data": "LastLoginTime" },
                { "data": "CreateTime" }
            ]
        };
        curTable = new TableUtils(options).initTable();
    });
</script>
</html>